{%extends 'base.html'%} {% block content %}

  <div class="">
    <div class=' p-3'>
      <div class="p-3 bg-black rounded mt-5 d-flex justify-content-center">
        <ul class="nav text-white">
          <li class="nav-item mx-3">
            <a class="  text-white"href="{%url 'articles'%}">All</a>
          </li>
          <li class="nav-item mx-3">
            <a class=" text-white" href="{%url 'articles'%}?q=PY">Python</a>
          </li>
          <li class="nav-item mx-3">
            <a class=" text-white" href="{%url 'articles'%}?q=JS">Javascript</a>
          </li>
          <li class="nav-item mx-3">
            <a class=" text-white " href="{%url 'articles'%}?q=HTML">HTML</a>
          </li><li class="nav-item mx-3">
            <a class=" text-white " href="{%url 'articles'%}?q=CSS">CSS</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="container ">
      <div><p class='p-3 m-0'>Found {{article_count}} </p>
      {% for article in articles %}
      <div class="rounded p-3 col-sm-12">
        <div class="row">
          <div class="mx-auto col">
            <img
              src="{{article.header_image}}"
              alt=""
              srcset=""
              height="auto"
              width="250px"
              loading="lazy"
              class="mx-auto"
            />
          </div>
          <div class="col-9">
            <p class="text-primary fw-bold m-0">{{article.category}}</p>
            <h5>{{article.title}}</h5>
            <p>
              by: {{article.author}} <span class='me-2'></span> Posted:{{article.date_created|timesince}} ago
            </p>
            <p>{{article.description}}</p>

            <div class="row mb-2 fst-italic">
              <div class="col">
                <i class="fa-solid fa-eye"></i> {{article.views}} views
              </div>
              <div class="col">
                <i class="fa-solid fa-thumbs-up"></i> {{article.likes}} likes
              </div>
              <div class="col">
                <i class="fa-solid fa-clock"></i> {{article.length}}mins read
              </div>
            </div>
            
              <a class="text-white" href="{% url 'article' article.id%}"
                ><button class="btn btn-primary">Read more...
            </button></a
              >
              

            {% if request.user == article.author %}
          
             <a class="text-white" href="{% url 'update-article' article.id%}"
                ><button class="btn btn-primary">Edit
            </button></a
              >
               <a class="text-white" href="{% url 'delete-article' article.id%}"
                ><button class="btn btn-danger">Delete
            </button></a
              >
            

            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div></div>
      
  </div>
</div>

{% endblock content %}
